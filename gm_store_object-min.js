function StoreManager(b,a){this.inStorePropNames=b||[];this.storePropNamePrefix=a||""}StoreManager.prototype.getStorePropName=function(a){return this.storePropNamePrefix+a};StoreManager.prototype.fromStoreValue=function(b,a){return a};StoreManager.prototype.toStoreValue=function(b,a){return a};StoreManager.prototype.restoreProp=function(c){for(var b=0;b<arguments.length&&_.isString(c=arguments[b]);b++){var a=GM_getValue(this.getStorePropName(c));if(a===undefined){continue}console.debug("restore "+c+": "+a);this[c]=this.fromStoreValue(c,a)}return this};StoreManager.prototype.restoreAll=function(){for(var a=0;a<this.inStorePropNames.length;a++){this.restoreProp(this.inStorePropNames[a])}return this};StoreManager.prototype.storeProp=function(c){for(var b=0;b<arguments.length&&_.isString(c=arguments[b]);b++){var a=this.toStoreValue(c,this[c]);if(a===undefined||a===null){GM_deleteValue(this.getStorePropName(c));debug("删除"+c)}else{GM_setValue(this.getStorePropName(c),a);debug("保存"+c)}}return this};StoreManager.prototype.storeAll=function(){_.each(this.inStorePropNames,function(b,a){this.storeProp(b)},this);return this};
